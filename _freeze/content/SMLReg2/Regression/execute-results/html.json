{
  "hash": "3d1b586a1e9699a484a1c22fb14d89d4",
  "result": {
    "markdown": "---\ntitle: \"Supervised ML - Regression\"\ndate: \"2023-06-12\"\noutput: \n    html_document:\n        toc: TRUE\n        theme: flatly\n        highlight: tango\n        code_folding: hide\n        df_print: paged\n---\n\n\n\n\n# Challenge Summary\n\nIn this session we did not use the recipes packages to prepare our data. This is going to be your challenge. For further information take a look at the last session or just use google. Prepare the data for the models with the steps provided below. Remember, you don’t need to set the flags by yourself (see all_nominal()).\n\n# Libraries\n\nLoad the following libraries. \n\n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-1_be578f4f68042df6f78d476d5884e751'}\n\n```{.r .cell-code}\n# install.packages(\"plotly\")\n\nlibrary(tidyverse)\nlibrary(tidyquant)\nlibrary(broom)\nlibrary(umap)\nlibrary(ggrepel) # Addon for ggplot, so that the labels do not overlap\nlibrary(vip)\nlibrary(workflows)\nlibrary(glmnet)\n\n# Modeling\nlibrary(parsnip)\n\n# Preprocessing & Sampling\nlibrary(recipes)\nlibrary(rsample)\n\n# Modeling Error Metrics\nlibrary(yardstick)\nlibrary(ranger)\n\n# Plotting Decision Trees\nlibrary(rpart.plot)\n```\n:::\n\n\n# Helper functions\n\n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-2_5df9d20ec696ed1a134c0fe610f1ee52'}\n\n```{.r .cell-code}\nplot_ggpairs <- function(data, color = NULL, density_alpha = 0.5) {\n  \n  color_expr <- enquo(color)\n  if (rlang::quo_is_null(color_expr)) {\n    \n    g <- data %>%\n      ggpairs(lower = \"blank\") \n    \n  } else {\n    \n    color_name <- quo_name(color_expr)\n    g <- data %>%\n      ggpairs(mapping = aes_string(color = color_name), \n              lower = \"blank\", legend = 1,\n              diag = list(continuous = wrap(\"densityDiag\", \n                                            alpha = density_alpha))) +\n      theme(legend.position = \"bottom\")\n  }\n  \n  return(g)\n}\n```\n:::\n\n\n\n# Data\n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-3_b45df35b12607eed0cbe97eda56619a3'}\n\n```{.r .cell-code}\n# Data set\nbike_orderlines_tbl <- readRDS(\"bike_orderlines.rds\")\nglimpse(bike_orderlines_tbl)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> Rows: 15,644\n#> Columns: 18\n#> $ order_id       <dbl> 1, 1, 2, 2, 3, 3, 3, 3, 3, 4, 5, 5, 5, 5, 6, 6, 6, 6, 7…\n#> $ order_line     <dbl> 1, 2, 1, 2, 1, 2, 3, 4, 5, 1, 1, 2, 3, 4, 1, 2, 3, 4, 1…\n#> $ order_date     <dttm> 2015-01-07, 2015-01-07, 2015-01-10, 2015-01-10, 2015-0…\n#> $ model          <chr> \"Spectral CF 7 WMN\", \"Ultimate CF SLX Disc 8.0 ETAP\", \"…\n#> $ model_year     <dbl> 2021, 2020, 2021, 2019, 2020, 2020, 2020, 2021, 2020, 2…\n#> $ category_1     <chr> \"Mountain\", \"Road\", \"Mountain\", \"Road\", \"Mountain\", \"Hy…\n#> $ category_2     <chr> \"Trail\", \"Race\", \"Trail\", \"Triathlon Bike\", \"Dirt Jump\"…\n#> $ category_3     <chr> \"Spectral\", \"Ultimate\", \"Neuron\", \"Speedmax\", \"Stitched…\n#> $ price          <dbl> 3119, 5359, 2729, 1749, 1219, 1359, 2529, 1559, 3899, 6…\n#> $ quantity       <dbl> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1…\n#> $ total_price    <dbl> 3119, 5359, 2729, 1749, 1219, 1359, 2529, 1559, 3899, 6…\n#> $ frame_material <chr> \"carbon\", \"carbon\", \"carbon\", \"carbon\", \"aluminium\", \"c…\n#> $ weight         <dbl> 13.80, 7.44, 14.06, 8.80, 11.50, 8.80, 8.20, 8.85, 14.4…\n#> $ url            <chr> \"https://www.canyon.com/en-de/mountain-bikes/trail-bike…\n#> $ bikeshop       <chr> \"AlexandeRad\", \"AlexandeRad\", \"WITT-RAD\", \"WITT-RAD\", \"…\n#> $ location       <chr> \"Hamburg, Hamburg\", \"Hamburg, Hamburg\", \"Bremen, Bremen…\n#> $ lat            <dbl> 53.57532, 53.57532, 53.07379, 53.07379, 48.78234, 48.78…\n#> $ lng            <dbl> 10.015340, 10.015340, 8.826754, 8.826754, 9.180819, 9.1…\n```\n:::\n:::\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-4_d41b66a776a9e7d1f0b8628ba512e689'}\n\n```{.r .cell-code}\nmodel_sales_tbl <- bike_orderlines_tbl %>%\n    select(total_price, model, category_2, frame_material) %>%\n    group_by(model, category_2, frame_material) %>%\n    summarise(total_sales = sum(total_price)) %>%\n    ungroup() %>%\n    arrange(desc(total_sales))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> `summarise()` has grouped output by 'model', 'category_2'. You can override\n#> using the `.groups` argument.\n```\n:::\n\n```{.r .cell-code}\nmodel_sales_tbl\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"model\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"category_2\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"frame_material\"],\"name\":[3],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"total_sales\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Ultimate CF SLX Disc 9.0 Di2\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"1322886\"},{\"1\":\"Ultimate CF SLX 9.0 Di2\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"1041032\"},{\"1\":\"Sender CFR\",\"2\":\"Downhill\",\"3\":\"aluminium\",\"4\":\"926436\"},{\"1\":\"Torque CF 9.0\",\"2\":\"Enduro\",\"3\":\"carbon\",\"4\":\"893689\"},{\"1\":\"Speedmax WMN CF SLX 8.0 SL\",\"2\":\"Triathlon Bike\",\"3\":\"carbon\",\"4\":\"883099\"},{\"1\":\"Endurace CF SLX Disc 9.0 Di2\",\"2\":\"Endurance\",\"3\":\"carbon\",\"4\":\"859194\"},{\"1\":\"Speedmax CF SLX 9.0 LTD\",\"2\":\"Triathlon Bike\",\"3\":\"carbon\",\"4\":\"842292\"},{\"1\":\"Lux CF SLX 9 LTD\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"811461\"},{\"1\":\"Ultimate CF SLX Disc 8.0 ETAP\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"777055\"},{\"1\":\"Grail:ON CF 7\",\"2\":\"E-Gravel\",\"3\":\"carbon\",\"4\":\"735219\"},{\"1\":\"Aeroad CF SL Disc 8.0 ETAP\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"714729\"},{\"1\":\"Spectral CF 9\",\"2\":\"Trail\",\"3\":\"carbon\",\"4\":\"712130\"},{\"1\":\"Ultimate CF SLX 9.0 ETAP\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"688446\"},{\"1\":\"Neuron:ON WMN 7.0\",\"2\":\"E-Mountain\",\"3\":\"aluminium\",\"4\":\"678492\"},{\"1\":\"Spectral WMN CFR 9.0\",\"2\":\"Trail\",\"3\":\"carbon\",\"4\":\"662830\"},{\"1\":\"Grail CF SLX 8.0 Di2\",\"2\":\"Adventure\",\"3\":\"carbon\",\"4\":\"662418\"},{\"1\":\"Lux CF 8\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"658931\"},{\"1\":\"Spectral:ON WMN CF 7.0\",\"2\":\"E-Mountain\",\"3\":\"carbon\",\"4\":\"641685\"},{\"1\":\"Speedmax CF 7.0\",\"2\":\"Triathlon Bike\",\"3\":\"carbon\",\"4\":\"609091\"},{\"1\":\"Speedmax CF 8.0 Di2\",\"2\":\"Triathlon Bike\",\"3\":\"carbon\",\"4\":\"590236\"},{\"1\":\"Spectral:ON CF 7.0\",\"2\":\"E-Mountain\",\"3\":\"carbon\",\"4\":\"587239\"},{\"1\":\"Spectral CF 7\",\"2\":\"Trail\",\"3\":\"carbon\",\"4\":\"580881\"},{\"1\":\"Ultimate WMN CF SL Disc 8.0 ETAP\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"573153\"},{\"1\":\"Inflite CF SLX 9\",\"2\":\"Cyclocross\",\"3\":\"carbon\",\"4\":\"567493\"},{\"1\":\"Grail:ON CF 8\",\"2\":\"E-Gravel\",\"3\":\"carbon\",\"4\":\"558252\"},{\"1\":\"Neuron:ON 8.0\",\"2\":\"E-Mountain\",\"3\":\"aluminium\",\"4\":\"557557\"},{\"1\":\"Ultimate CF SLX Disc 9.0 Team Movistar\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"556836\"},{\"1\":\"Lux CF SLX 9 Team\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"549806\"},{\"1\":\"Inflite CF SL 8\",\"2\":\"Cyclocross\",\"3\":\"carbon\",\"4\":\"546669\"},{\"1\":\"Speedmax CF 8.0 SL\",\"2\":\"Triathlon Bike\",\"3\":\"carbon\",\"4\":\"537510\"},{\"1\":\"Spectral:ON CF 9.0\",\"2\":\"E-Mountain\",\"3\":\"carbon\",\"4\":\"537188\"},{\"1\":\"Ultimate CFR Disc Di2\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"533448\"},{\"1\":\"Sender CFR FMD\",\"2\":\"Downhill\",\"3\":\"carbon\",\"4\":\"522006\"},{\"1\":\"Strive CFR\",\"2\":\"Enduro\",\"3\":\"aluminium\",\"4\":\"520561\"},{\"1\":\"Neuron CF 9 SL\",\"2\":\"Trail\",\"3\":\"carbon\",\"4\":\"510769\"},{\"1\":\"Torque CF 8.0\",\"2\":\"Enduro\",\"3\":\"carbon\",\"4\":\"502971\"},{\"1\":\"Pathlite:ON 6.0\",\"2\":\"E-Trekking\",\"3\":\"aluminium\",\"4\":\"500733\"},{\"1\":\"Lux CF SL 8.0\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"489464\"},{\"1\":\"Speedmax WMN CF 8.0\",\"2\":\"Triathlon Bike\",\"3\":\"carbon\",\"4\":\"483039\"},{\"1\":\"Grail CF SL 7\",\"2\":\"All-Road\",\"3\":\"carbon\",\"4\":\"481834\"},{\"1\":\"Exceed CFR LTD\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"481764\"},{\"1\":\"Aeroad CF SL Disc 8.0 Di2\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"480795\"},{\"1\":\"Grail CF SL 8 WMN Di2\",\"2\":\"All-Road\",\"3\":\"carbon\",\"4\":\"473851\"},{\"1\":\"Ultimate WMN CF SLX Disc 9.0 ETAP\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"473769\"},{\"1\":\"Spectral:ON CF 8.0\",\"2\":\"E-Mountain\",\"3\":\"carbon\",\"4\":\"467424\"},{\"1\":\"Grand Canyon:ON AL 9.0\",\"2\":\"E-Mountain\",\"3\":\"aluminium\",\"4\":\"453333\"},{\"1\":\"Spectral CFR 9.0\",\"2\":\"Trail\",\"3\":\"carbon\",\"4\":\"453321\"},{\"1\":\"Grail CF SLX 8 Di2\",\"2\":\"All-Road\",\"3\":\"carbon\",\"4\":\"447900\"},{\"1\":\"Grail CF SL 8 Di2\",\"2\":\"All-Road\",\"3\":\"carbon\",\"4\":\"446579\"},{\"1\":\"Grail CF SL 8.0 ETAP\",\"2\":\"All-Road\",\"3\":\"carbon\",\"4\":\"442898\"},{\"1\":\"Endurace WMN CF SL Disc 8.0\",\"2\":\"Endurance\",\"3\":\"carbon\",\"4\":\"439043\"},{\"1\":\"Neuron CF 9.0 SL\",\"2\":\"Trail\",\"3\":\"carbon\",\"4\":\"425862\"},{\"1\":\"Neuron CF 8\",\"2\":\"Trail\",\"3\":\"carbon\",\"4\":\"422995\"},{\"1\":\"Neuron CF 9\",\"2\":\"Trail\",\"3\":\"carbon\",\"4\":\"421689\"},{\"1\":\"Neuron 7\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"409737\"},{\"1\":\"Ultimate CF SLX Disc 9.0 ETAP\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"407102\"},{\"1\":\"Grand Canyon:ON WMN AL 8.0\",\"2\":\"E-Mountain\",\"3\":\"aluminium\",\"4\":\"405741\"},{\"1\":\"Endurace CF SL Disc 8.0 Di2\",\"2\":\"Endurance\",\"3\":\"carbon\",\"4\":\"405594\"},{\"1\":\"Pathlite:ON 7\",\"2\":\"E-Trekking\",\"3\":\"aluminium\",\"4\":\"403698\"},{\"1\":\"Roadlite:ON AL 8.0\",\"2\":\"E-Fitness\",\"3\":\"aluminium\",\"4\":\"399156\"},{\"1\":\"Roadlite:ON AL 7.0\",\"2\":\"E-Fitness\",\"3\":\"aluminium\",\"4\":\"395428\"},{\"1\":\"Exceed CFR Team\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"394689\"},{\"1\":\"Strive CF 8.0\",\"2\":\"Enduro\",\"3\":\"carbon\",\"4\":\"377298\"},{\"1\":\"Strive CF 7.0\",\"2\":\"Enduro\",\"3\":\"carbon\",\"4\":\"370713\"},{\"1\":\"Speedmax WMN CF 8.0 Di2\",\"2\":\"Triathlon Bike\",\"3\":\"carbon\",\"4\":\"367098\"},{\"1\":\"Ultimate WMN CF SL Disc 8.0\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"364176\"},{\"1\":\"Aeroad CF SLX 9.0 Di2\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"359053\"},{\"1\":\"Commuter:ON 7\",\"2\":\"E-City\",\"3\":\"aluminium\",\"4\":\"357309\"},{\"1\":\"Speedmax WMN CF 8.0 LTD\",\"2\":\"Triathlon Bike\",\"3\":\"carbon\",\"4\":\"356065\"},{\"1\":\"Sender 6\",\"2\":\"Downhill\",\"3\":\"aluminium\",\"4\":\"355528\"},{\"1\":\"Speedmax CF SLX 8.0 SL\",\"2\":\"Triathlon Bike\",\"3\":\"carbon\",\"4\":\"353694\"},{\"1\":\"Spectral 5\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"352935\"},{\"1\":\"Grail:ON CF 7 WMN\",\"2\":\"E-Gravel\",\"3\":\"carbon\",\"4\":\"350568\"},{\"1\":\"Aeroad CF SL 7.0\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"349657\"},{\"1\":\"Endurace CF 8.0\",\"2\":\"Endurance\",\"3\":\"carbon\",\"4\":\"344973\"},{\"1\":\"Lux CF SLX 9.0 Team\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"344658\"},{\"1\":\"Spectral CF 9.0\",\"2\":\"Trail\",\"3\":\"carbon\",\"4\":\"343882\"},{\"1\":\"Aeroad CF SL 8.0\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"339480\"},{\"1\":\"Neuron:ON 7.0\",\"2\":\"E-Mountain\",\"3\":\"aluminium\",\"4\":\"335637\"},{\"1\":\"Endurace WMN CF SL Disc 8.0 Di2\",\"2\":\"Endurance\",\"3\":\"carbon\",\"4\":\"334776\"},{\"1\":\"Precede:ON CF 9 ST\",\"2\":\"E-City\",\"3\":\"carbon\",\"4\":\"331092\"},{\"1\":\"Endurace CF SL Disc 7.0\",\"2\":\"Endurance\",\"3\":\"carbon\",\"4\":\"329889\"},{\"1\":\"Grail CF SLX 8 eTap\",\"2\":\"All-Road\",\"3\":\"carbon\",\"4\":\"329751\"},{\"1\":\"Speedmax CF 8.0 LTD\",\"2\":\"Triathlon Bike\",\"3\":\"carbon\",\"4\":\"318942\"},{\"1\":\"Ultimate CF SL Disc 8.0 Di2\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"315462\"},{\"1\":\"Ultimate WMN CF SL Disc 8.0 Di2\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"315462\"},{\"1\":\"Neuron CF 9 WMN\",\"2\":\"Trail\",\"3\":\"carbon\",\"4\":\"312243\"},{\"1\":\"Dude CF 8.0 Trail\",\"2\":\"Fat Bikes\",\"3\":\"carbon\",\"4\":\"310155\"},{\"1\":\"Grail 7 WMN\",\"2\":\"All-Road\",\"3\":\"aluminium\",\"4\":\"307824\"},{\"1\":\"Endurace WMN AL Disc 7.0\",\"2\":\"Endurance\",\"3\":\"aluminium\",\"4\":\"307123\"},{\"1\":\"Commuter Sport 8.0\",\"2\":\"City\",\"3\":\"aluminium\",\"4\":\"302211\"},{\"1\":\"Inflite CF SL 7\",\"2\":\"Cyclocross\",\"3\":\"carbon\",\"4\":\"297461\"},{\"1\":\"Grail:ON CF 8 eTap\",\"2\":\"E-Gravel\",\"3\":\"carbon\",\"4\":\"292450\"},{\"1\":\"Neuron 6\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"288444\"},{\"1\":\"Precede:ON CF 9\",\"2\":\"E-City\",\"3\":\"carbon\",\"4\":\"277533\"},{\"1\":\"Endurace CF 7.0\",\"2\":\"Endurance\",\"3\":\"carbon\",\"4\":\"277210\"},{\"1\":\"Endurace CF SLX Disc 8.0 ETAP\",\"2\":\"Endurance\",\"3\":\"carbon\",\"4\":\"273309\"},{\"1\":\"Neuron AL 6.0\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"269346\"},{\"1\":\"Spectral CF 7 WMN\",\"2\":\"Trail\",\"3\":\"carbon\",\"4\":\"268234\"},{\"1\":\"Inflite CF SLX 9 Team\",\"2\":\"Cyclocross\",\"3\":\"carbon\",\"4\":\"258951\"},{\"1\":\"Grand Canyon:ON AL 8.0\",\"2\":\"E-Mountain\",\"3\":\"aluminium\",\"4\":\"250371\"},{\"1\":\"Endurace CF SLX Disc 9.0 ETAP\",\"2\":\"Endurance\",\"3\":\"carbon\",\"4\":\"248506\"},{\"1\":\"Roadlite:ON AL 9.0\",\"2\":\"E-Fitness\",\"3\":\"aluminium\",\"4\":\"245412\"},{\"1\":\"Grand Canyon 8 WMN\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"237825\"},{\"1\":\"Precede:ON CF 8 ST\",\"2\":\"E-City\",\"3\":\"carbon\",\"4\":\"234584\"},{\"1\":\"Pathlite:ON 9.0\",\"2\":\"E-Trekking\",\"3\":\"aluminium\",\"4\":\"233712\"},{\"1\":\"Ultimate CF SLX 8.0 Di2\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"233073\"},{\"1\":\"Ultimate CF SL Disc 8.0 Di2 Aero\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"228984\"},{\"1\":\"Spectral CF 8\",\"2\":\"Trail\",\"3\":\"carbon\",\"4\":\"228085\"},{\"1\":\"Roadlite CF 9.0 LTD\",\"2\":\"City\",\"3\":\"carbon\",\"4\":\"224763\"},{\"1\":\"Strive CF 9.0\",\"2\":\"Enduro\",\"3\":\"carbon\",\"4\":\"224592\"},{\"1\":\"Roadlite WMN CF 7.0\",\"2\":\"City\",\"3\":\"carbon\",\"4\":\"216701\"},{\"1\":\"Lux CF SLX 9.0\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"209671\"},{\"1\":\"Grail 7 1by\",\"2\":\"All-Road\",\"3\":\"aluminium\",\"4\":\"208131\"},{\"1\":\"Roadlite CF 7.0\",\"2\":\"City\",\"3\":\"carbon\",\"4\":\"207927\"},{\"1\":\"Ultimate WMN CF SL Disc 7.0\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"206949\"},{\"1\":\"Inflite 5\",\"2\":\"Cyclocross\",\"3\":\"aluminium\",\"4\":\"205788\"},{\"1\":\"Aeroad CF SL 8.0 Di2\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"196047\"},{\"1\":\"Grand Canyon 8\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"195696\"},{\"1\":\"Ultimate CFR Disc EPS\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"192918\"},{\"1\":\"Precede:ON CF 8\",\"2\":\"E-City\",\"3\":\"carbon\",\"4\":\"192694\"},{\"1\":\"Ultimate CF SL 8.0 Di2\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"192654\"},{\"1\":\"Roadlite AL SL 8.0\",\"2\":\"City\",\"3\":\"aluminium\",\"4\":\"190260\"},{\"1\":\"Grand Canyon 9\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"188892\"},{\"1\":\"Exceed CF SLX 9.0 Race LTD\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"184338\"},{\"1\":\"Endurace AL Disc 7.0\",\"2\":\"Endurance\",\"3\":\"aluminium\",\"4\":\"182403\"},{\"1\":\"Endurace CF SL Disc 8.0 Pro\",\"2\":\"Endurance\",\"3\":\"carbon\",\"4\":\"180114\"},{\"1\":\"Grail CF SL 7 WMN\",\"2\":\"All-Road\",\"3\":\"carbon\",\"4\":\"175425\"},{\"1\":\"Exceed CF 6\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"175398\"},{\"1\":\"Pathlite WMN AL 6.0\",\"2\":\"Touring\",\"3\":\"aluminium\",\"4\":\"175305\"},{\"1\":\"Lux CF SLX 9.0 Race Limited\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"175131\"},{\"1\":\"Pathlite 7 WMN\",\"2\":\"Touring\",\"3\":\"aluminium\",\"4\":\"173621\"},{\"1\":\"Endurace CF SL Disc 8.0\",\"2\":\"Endurance\",\"3\":\"carbon\",\"4\":\"173514\"},{\"1\":\"Spectral 6\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"169443\"},{\"1\":\"Exceed CF SLX 9\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"169423\"},{\"1\":\"Neuron CF SLX 9\",\"2\":\"Trail\",\"3\":\"carbon\",\"4\":\"169229\"},{\"1\":\"Neuron AL 7.0\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"168981\"},{\"1\":\"Pathlite 5\",\"2\":\"Touring\",\"3\":\"aluminium\",\"4\":\"158220\"},{\"1\":\"Neuron 7 WMN\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"156730\"},{\"1\":\"Ultimate CF SL 7.0\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"155946\"},{\"1\":\"Commuter 5.0\",\"2\":\"City\",\"3\":\"aluminium\",\"4\":\"152208\"},{\"1\":\"Speedmax CF SLX 9.0 TT\",\"2\":\"Triathlon Bike\",\"3\":\"carbon\",\"4\":\"149073\"},{\"1\":\"Stitched 360 Pro\",\"2\":\"Dirt Jump\",\"3\":\"aluminium\",\"4\":\"148718\"},{\"1\":\"Roadlite 5\",\"2\":\"City\",\"3\":\"aluminium\",\"4\":\"148010\"},{\"1\":\"Speedmax CF SLX 8.0\",\"2\":\"Triathlon Bike\",\"3\":\"carbon\",\"4\":\"143328\"},{\"1\":\"Endurace WMN AL Disc 6.0\",\"2\":\"Endurance\",\"3\":\"aluminium\",\"4\":\"138321\"},{\"1\":\"Grail 7\",\"2\":\"All-Road\",\"3\":\"aluminium\",\"4\":\"138171\"},{\"1\":\"Torque AL 6.0\",\"2\":\"Enduro\",\"3\":\"aluminium\",\"4\":\"136450\"},{\"1\":\"Aeroad CF SLX 9.0 SL\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"128919\"},{\"1\":\"Pathlite:ON 8.0\",\"2\":\"E-Trekking\",\"3\":\"aluminium\",\"4\":\"125037\"},{\"1\":\"Endurace AL 6.0\",\"2\":\"Endurance\",\"3\":\"aluminium\",\"4\":\"125001\"},{\"1\":\"Endurace WMN AL 7.0\",\"2\":\"Endurance\",\"3\":\"aluminium\",\"4\":\"123914\"},{\"1\":\"Neuron WMN AL 7.0\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"121923\"},{\"1\":\"Roadlite 5 WMN\",\"2\":\"City\",\"3\":\"aluminium\",\"4\":\"121524\"},{\"1\":\"Torque AL 5.0\",\"2\":\"Enduro\",\"3\":\"aluminium\",\"4\":\"120906\"},{\"1\":\"Commuter:ON 7 WMN\",\"2\":\"E-City\",\"3\":\"aluminium\",\"4\":\"115884\"},{\"1\":\"Stitched 720\",\"2\":\"Dirt Jump\",\"3\":\"aluminium\",\"4\":\"115434\"},{\"1\":\"Grail 6\",\"2\":\"All-Road\",\"3\":\"aluminium\",\"4\":\"113802\"},{\"1\":\"Exceed CF 5 WMN\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"109494\"},{\"1\":\"Pathlite AL 6.0\",\"2\":\"Touring\",\"3\":\"aluminium\",\"4\":\"109038\"},{\"1\":\"Stitched 360\",\"2\":\"Dirt Jump\",\"3\":\"aluminium\",\"4\":\"107770\"},{\"1\":\"Lux CF SLX 9\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"107118\"},{\"1\":\"Exceed CF 7 WMN\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"105160\"},{\"1\":\"Endurace WMN CF SL Disc 7.0\",\"2\":\"Endurance\",\"3\":\"carbon\",\"4\":\"102450\"},{\"1\":\"Lux CF 7 WMN\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"102270\"},{\"1\":\"Grand Canyon 6\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"93993\"},{\"1\":\"Pathlite:ON 5.0\",\"2\":\"E-Trekking\",\"3\":\"aluminium\",\"4\":\"91044\"},{\"1\":\"Ultimate CF SL Disc 8.0\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"91044\"},{\"1\":\"Pathlite:ON 6\",\"2\":\"E-Trekking\",\"3\":\"aluminium\",\"4\":\"90528\"},{\"1\":\"Commuter 3.0\",\"2\":\"City\",\"3\":\"aluminium\",\"4\":\"87890\"},{\"1\":\"Aeroad WMN CF SL 8.0\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"86913\"},{\"1\":\"Speedmax WMN CF 7.0\",\"2\":\"Triathlon Bike\",\"3\":\"carbon\",\"4\":\"85560\"},{\"1\":\"Grand Canyon 7 WMN\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"84168\"},{\"1\":\"Ultimate CF SL 8.0\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"82843\"},{\"1\":\"Dude CF 9.0 Trail\",\"2\":\"Fat Bikes\",\"3\":\"carbon\",\"4\":\"81499\"},{\"1\":\"Exceed CF 7\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"81499\"},{\"1\":\"Pathlite 6 WMN\",\"2\":\"Touring\",\"3\":\"aluminium\",\"4\":\"81244\"},{\"1\":\"Pathlite AL SL 7.0\",\"2\":\"Touring\",\"3\":\"aluminium\",\"4\":\"77327\"},{\"1\":\"Lux CF 6\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"72975\"},{\"1\":\"Pathlite AL SL 8.0\",\"2\":\"Touring\",\"3\":\"aluminium\",\"4\":\"71337\"},{\"1\":\"Roadlite CF 9.0\",\"2\":\"City\",\"3\":\"carbon\",\"4\":\"70917\"},{\"1\":\"Roadlite 6 WMN\",\"2\":\"City\",\"3\":\"aluminium\",\"4\":\"69485\"},{\"1\":\"Spectral WMN CF 8.0\",\"2\":\"Trail\",\"3\":\"carbon\",\"4\":\"68225\"},{\"1\":\"Inflite CF SL 6\",\"2\":\"Cyclocross\",\"3\":\"carbon\",\"4\":\"64170\"},{\"1\":\"Grand Canyon 6 WMN\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"62985\"},{\"1\":\"Commuter Sport 5.0\",\"2\":\"City\",\"3\":\"aluminium\",\"4\":\"62930\"},{\"1\":\"Endurace WMN AL 6.0\",\"2\":\"Endurance\",\"3\":\"aluminium\",\"4\":\"62016\"},{\"1\":\"Speedmax CF SLX 9.0 SL\",\"2\":\"Triathlon Bike\",\"3\":\"carbon\",\"4\":\"57051\"},{\"1\":\"Grail 6 WMN\",\"2\":\"All-Road\",\"3\":\"aluminium\",\"4\":\"56901\"},{\"1\":\"Pathlite:ON 7.0\",\"2\":\"E-Trekking\",\"3\":\"aluminium\",\"4\":\"56142\"},{\"1\":\"Speedmax CF 8.0\",\"2\":\"Triathlon Bike\",\"3\":\"carbon\",\"4\":\"55638\"},{\"1\":\"Roadlite AL 7.0\",\"2\":\"City\",\"3\":\"aluminium\",\"4\":\"54945\"},{\"1\":\"Lux CF 7\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"51135\"},{\"1\":\"Grand Canyon 5\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"50635\"},{\"1\":\"Aeroad CF SL Disc 8.0\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"50526\"},{\"1\":\"Endurace CF SL Disc 8.0 Aero Di2\",\"2\":\"Endurance\",\"3\":\"carbon\",\"4\":\"50268\"},{\"1\":\"Neuron:ON 9.0\",\"2\":\"E-Mountain\",\"3\":\"aluminium\",\"4\":\"48279\"},{\"1\":\"Spectral 6 WMN\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"47058\"},{\"1\":\"Lux CF SL 6.0\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"46341\"},{\"1\":\"Exceed CF SLX 9.0 Race\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"46079\"},{\"1\":\"Grand Canyon Young Hero\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"45162\"},{\"1\":\"Grail CF SL 8\",\"2\":\"All-Road\",\"3\":\"carbon\",\"4\":\"43664\"},{\"1\":\"Endurace AL Disc 6.0\",\"2\":\"Endurance\",\"3\":\"aluminium\",\"4\":\"40608\"},{\"1\":\"Roadlite CF 8.0\",\"2\":\"City\",\"3\":\"carbon\",\"4\":\"40227\"},{\"1\":\"Exceed CF SLX 9.0\",\"2\":\"Adventure\",\"3\":\"carbon\",\"4\":\"39589\"},{\"1\":\"Roadlite WMN AL SL 8.0\",\"2\":\"City\",\"3\":\"aluminium\",\"4\":\"39406\"},{\"1\":\"Exceed CF SLX 8\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"36090\"},{\"1\":\"Neuron 6 WMN\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"35131\"},{\"1\":\"Neuron CF LTD\",\"2\":\"Trail\",\"3\":\"carbon\",\"4\":\"34083\"},{\"1\":\"Commuter 6.0\",\"2\":\"City\",\"3\":\"aluminium\",\"4\":\"32978\"},{\"1\":\"Pathlite 5 WMN\",\"2\":\"Touring\",\"3\":\"aluminium\",\"4\":\"31644\"},{\"1\":\"Grail CF SL 8 eTap\",\"2\":\"All-Road\",\"3\":\"carbon\",\"4\":\"31192\"},{\"1\":\"Commuter 8.0\",\"2\":\"City\",\"3\":\"aluminium\",\"4\":\"30407\"},{\"1\":\"Commuter 4.0\",\"2\":\"City\",\"3\":\"aluminium\",\"4\":\"29932\"},{\"1\":\"Roadlite 6\",\"2\":\"City\",\"3\":\"aluminium\",\"4\":\"28863\"},{\"1\":\"Grand Canyon 5 WMN\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"28044\"},{\"1\":\"Aeroad CF SLX Disc 9.0 Di2\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"25716\"},{\"1\":\"Grand Canyon 7\",\"2\":\"Trail\",\"3\":\"aluminium\",\"4\":\"23380\"},{\"1\":\"Exceed CF 5\",\"2\":\"Cross-Country\",\"3\":\"carbon\",\"4\":\"18249\"},{\"1\":\"Endurace AL 7.0\",\"2\":\"Endurance\",\"3\":\"aluminium\",\"4\":\"15197\"},{\"1\":\"Aeroad CF SLX Disc 9.0 ETAP\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"13838\"},{\"1\":\"Ultimate CF SL Disc 7.0\",\"2\":\"Race\",\"3\":\"carbon\",\"4\":\"10245\"},{\"1\":\"Torque CF 7.0\",\"2\":\"Enduro\",\"3\":\"carbon\",\"4\":\"9657\"},{\"1\":\"Roadlite WMN CF 8.0\",\"2\":\"City\",\"3\":\"carbon\",\"4\":\"3898\"},{\"1\":\"Endurace:ON 7.0\",\"2\":\"E-Road\",\"3\":\"aluminium\",\"4\":\"2919\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-5_a1c4bfad272acd11b63807fa1f18c920'}\n\n```{.r .cell-code}\nmodel_sales_tbl %>%\n    mutate(category_2 = as_factor(category_2) %>% \n               fct_reorder(total_sales, .fun = max) %>% \n               fct_rev()) %>%\n    ggplot(aes(frame_material, total_sales)) +\n    geom_violin() +\n    geom_jitter(width = 0.1, alpha = 0.5, color = \"#2c3e50\") +\n    #coord_flip() +\n    facet_wrap(~ category_2) +\n    scale_y_continuous(labels = scales::dollar_format(scale = 1e-6, suffix = \"M\", accuracy = 0.1)) +\n    tidyquant::theme_tq() +\n    labs(\n        title = \"Total Sales for Each Model\",\n        x = \"Frame Material\", y = \"Revenue\"\n    )\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: Groups with fewer than two data points have been dropped.\n#> Groups with fewer than two data points have been dropped.\n#> Groups with fewer than two data points have been dropped.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning in max(data$density): kein nicht-fehlendes Argument für max; gebe -Inf\n#> zurück\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: Computation failed in `stat_ydensity()`\n#> Caused by error in `$<-.data.frame`:\n#> ! Ersetzung hat 1 Zeile, Daten haben 0\n```\n:::\n\n::: {.cell-output-display}\n![](Regression_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n## Data Preparation & Feature Engineering\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-6_cfd5d2495241afe58683392e9cb256ef'}\n\n```{.r .cell-code}\nbike_features_tbl <- readRDS(\"bike_features_tbl.rds\")\nglimpse(bike_features_tbl)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> Rows: 231\n#> Columns: 67\n#> $ bike_id                     <dbl> 2875, 2873, 2874, 2876, 2877, 2225, 2091, …\n#> $ model                       <chr> \"Aeroad CF SL Disc 8.0 Di2\", \"Aeroad CF SL…\n#> $ model_year                  <dbl> 2020, 2020, 2020, 2020, 2020, 2019, 2019, …\n#> $ frame_material              <chr> \"carbon\", \"carbon\", \"carbon\", \"carbon\", \"c…\n#> $ weight                      <dbl> 7.60, 7.27, 7.10, 7.73, 7.83, 6.80, 6.80, …\n#> $ price                       <dbl> 4579, 6919, 6429, 5069, 3609, 6139, 5359, …\n#> $ category_1                  <chr> \"Road\", \"Road\", \"Road\", \"Road\", \"Road\", \"R…\n#> $ category_2                  <chr> \"Race\", \"Race\", \"Race\", \"Race\", \"Race\", \"R…\n#> $ category_3                  <chr> \"Aeroad\", \"Aeroad\", \"Aeroad\", \"Aeroad\", \"A…\n#> $ gender                      <chr> \"unisex\", \"unisex\", \"unisex\", \"unisex\", \"u…\n#> $ url                         <chr> \"https://www.canyon.com/en-de/road-bikes/r…\n#> $ Frame                       <chr> \"Canyon Aeroad CF SL Disc\", \"Canyon Aeroad…\n#> $ Fork                        <chr> \"Canyon FK0041 CF SLX Disc\", \"Canyon FK004…\n#> $ `Rear Derailleur`           <chr> \"Shimano Ultegra Di2 R8050 SS\", \"SRAM RED …\n#> $ `Front Derailleur`          <chr> \"Shimano Ultegra Di2 R8050\", \"SRAM RED eTa…\n#> $ Cassette                    <chr> \"Shimano Ultegra R8000, 11-speed, 11-28T\",…\n#> $ Crank                       <chr> \"Shimano Ultegra R8000\", \"SRAM RED D1\", \"S…\n#> $ `Bottom bracket`            <chr> \"Shimano Pressfit BB72\", \"SRAM Pressfit RE…\n#> $ `Thru Axle`                 <chr> \"Canyon Thru Axle\", \"Canyon Thru Axle\", \"C…\n#> $ Cockpit                     <chr> \"Canyon H36 Aerocockpit CF\", \"Canyon H36 A…\n#> $ Saddle                      <chr> \"Selle Italia SLR\", \"Selle Italia SLR\", \"S…\n#> $ Seatpost                    <chr> \"Canyon S27 Aero VCLS CF\", \"Canyon S27 Aer…\n#> $ Pedals                      <chr> \"None included\", \"None included\", \"None in…\n#> $ `Derailleur hanger`         <chr> \"Shop Derailleur Hanger GP0211-01\", \"Shop …\n#> $ Battery                     <chr> \"\", \"SRAM eTap Powerpack\", \"\", \"SRAM eTap …\n#> $ Brake                       <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ `Shift Lever`               <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"Shimano Di2 Remot…\n#> $ Chain                       <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"Shimano CN-HG901 …\n#> $ Stem                        <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"Canyon V13\", …\n#> $ Handlebar                   <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"Canyon H16 Ae…\n#> $ Headset                     <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ Motor                       <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ `Battery Charger`           <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ `Flat Pedals`               <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ Chainguard                  <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ `Aero Bar`                  <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ `Brake Lever / Master`      <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ `Wheel Tire System`         <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ `Suspension Fork`           <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ `Disc Brake`                <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ Grips                       <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ Chainring                   <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ Display                     <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ Modeswitch                  <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ `Rear Shock`                <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ Light                       <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ Fender                      <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ `Bike Racks`                <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ `Brake 1`                   <chr> \"\", \"\", \"\", \"\", \"\", \"SRAM S-900 Direct Mou…\n#> $ `Brake 2`                   <chr> \"\", \"\", \"\", \"\", \"\", \"SRAM S-900 Direct Mou…\n#> $ `Shift-/ Brake Lever 1`     <chr> \"Shimano Ultegra Di2 R8070, 11-speed\", \"SR…\n#> $ `Shift-/ Brake Lever 2`     <chr> \"Shimano Ultegra Di2 R8070, 11-speed\", \"SR…\n#> $ `Wheel 1`                   <chr> \"DT Swiss ARC 1400 Dicut\", \"DT Swiss ARC 1…\n#> $ `Wheel 2`                   <chr> \"DT Swiss ARC 1400 Dicut\", \"DT Swiss ARC 1…\n#> $ `Tyre 1`                    <chr> \"Continental Grand Prix 5000 / Attack  23 …\n#> $ `Tyre 2`                    <chr> \"Continental Grand Prix 5000, 25 mm\", \"Con…\n#> $ `Handlebar Tape 1`          <chr> \"Canyon Ergospeed Gel\", \"Canyon Ergospeed …\n#> $ `Handlebar Tape 2`          <chr> \"Canyon bar-end plug\", \"Canyon bar-end plu…\n#> $ `Manuals and Accessories 1` <chr> \"Canyon tool case\", \"Canyon tool case\", \"C…\n#> $ `Manuals and Accessories 2` <chr> \"DT Swiss warranty & intended use manual\",…\n#> $ `Manuals and Accessories 3` <chr> \"Canyon starter box\", \"Canyon starter box\"…\n#> $ `Manuals and Accessories 4` <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"BAG R…\n#> $ `Manuals and Accessories 5` <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ `Manuals and Accessories 6` <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ `Manuals and Accessories 7` <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ `Manuals and Accessories 8` <chr> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"…\n#> $ `Brake Rotor`               <list> \"Shimano RT800\", \"SRAM Centerline X\", \"Sh…\n```\n:::\n\n```{.r .cell-code}\nbike_features_tbl <- bike_features_tbl %>% \n    select(model:url, `Rear Derailleur`, `Shift Lever`) %>% \n    mutate(\n      `shimano dura-ace`        = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano dura-ace \") %>% as.numeric(),\n      `shimano ultegra`         = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano ultegra \") %>% as.numeric(),\n      `shimano 105`             = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano 105 \") %>% as.numeric(),\n      `shimano tiagra`          = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano tiagra \") %>% as.numeric(),\n      `Shimano sora`            = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano sora\") %>% as.numeric(),\n      `shimano deore`           = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano deore(?! xt)\") %>% as.numeric(),\n      `shimano slx`             = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano slx\") %>% as.numeric(),\n      `shimano grx`             = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano grx\") %>% as.numeric(),\n      `Shimano xt`              = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano deore xt |shimano xt \") %>% as.numeric(),\n      `Shimano xtr`             = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano xtr\") %>% as.numeric(),\n      `Shimano saint`           = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"shimano saint\") %>% as.numeric(),\n      `SRAM red`                = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram red\") %>% as.numeric(),\n      `SRAM force`              = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram force\") %>% as.numeric(),\n      `SRAM rival`              = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram rival\") %>% as.numeric(),\n      `SRAM apex`               = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram apex\") %>% as.numeric(),\n      `SRAM xx1`                = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram xx1\") %>% as.numeric(),\n      `SRAM x01`                = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram x01|sram xo1\") %>% as.numeric(),\n      `SRAM gx`                 = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram gx\") %>% as.numeric(),\n      `SRAM nx`                 = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram nx\") %>% as.numeric(),\n      `SRAM sx`                 = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram sx\") %>% as.numeric(),\n      `SRAM sx`                 = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"sram sx\") %>% as.numeric(),\n      `Campagnolo potenza`      = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"campagnolo potenza\") %>% as.numeric(),\n      `Campagnolo super record` = `Rear Derailleur` %>% str_to_lower() %>% str_detect(\"campagnolo super record\") %>% as.numeric(),\n      `shimano nexus`           = `Shift Lever`     %>% str_to_lower() %>% str_detect(\"shimano nexus\") %>% as.numeric(),\n      `shimano alfine`          = `Shift Lever`     %>% str_to_lower() %>% str_detect(\"shimano alfine\") %>% as.numeric()\n    ) %>% \n  # Remove original columns  \n  select(-c(`Rear Derailleur`, `Shift Lever`)) %>% \n  # Set all NAs to 0\n  mutate_if(is.numeric, ~replace(., is.na(.), 0))\n```\n:::\n\nReordering and tidying \n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-7_1ca8883361d395fcfe065e946fa8c274'}\n\n```{.r .cell-code}\n# 2.0 TRAINING & TEST SETS ----\nbike_features_tbl <- bike_features_tbl %>% \n  \n  mutate(id = row_number()) %>% \n  \n  select(id, everything(), -url)\n```\n:::\n\n## Splitting the Data\n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-8_d048d2ad240cc961b4e393296732e5e2'}\n\n```{.r .cell-code}\nbike_features_tbl %>% distinct(category_2)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"category_2\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"Race\"},{\"1\":\"Endurance\"},{\"1\":\"E-Road\"},{\"1\":\"Cyclocross\"},{\"1\":\"Triathlon Bike\"},{\"1\":\"Fat Bikes\"},{\"1\":\"Cross-Country\"},{\"1\":\"Adventure\"},{\"1\":\"All-Road\"},{\"1\":\"E-Gravel\"},{\"1\":\"Trail\"},{\"1\":\"E-Mountain\"},{\"1\":\"Downhill\"},{\"1\":\"Dirt Jump\"},{\"1\":\"Enduro\"},{\"1\":\"E-City\"},{\"1\":\"E-Trekking\"},{\"1\":\"E-Fitness\"},{\"1\":\"City\"},{\"1\":\"Touring\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n# run both following commands at the same time\nset.seed(seed = 1337)\nsplit_obj <- rsample::initial_split(bike_features_tbl, prop   = 0.80, \n                                                       strata = \"category_2\")\n\n# Check if testing contains all category_2 values\nsplit_obj %>% training() %>% distinct(category_2)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"category_2\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"Race\"},{\"1\":\"Endurance\"},{\"1\":\"Cyclocross\"},{\"1\":\"Triathlon Bike\"},{\"1\":\"Fat Bikes\"},{\"1\":\"Cross-Country\"},{\"1\":\"Adventure\"},{\"1\":\"All-Road\"},{\"1\":\"E-Gravel\"},{\"1\":\"E-Mountain\"},{\"1\":\"Downhill\"},{\"1\":\"Dirt Jump\"},{\"1\":\"Enduro\"},{\"1\":\"E-Trekking\"},{\"1\":\"E-City\"},{\"1\":\"City\"},{\"1\":\"Touring\"},{\"1\":\"E-Road\"},{\"1\":\"Trail\"},{\"1\":\"E-Fitness\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\nsplit_obj %>% testing() %>% distinct(category_2)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"category_2\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"Race\"},{\"1\":\"Endurance\"},{\"1\":\"Cyclocross\"},{\"1\":\"Triathlon Bike\"},{\"1\":\"Cross-Country\"},{\"1\":\"All-Road\"},{\"1\":\"E-Gravel\"},{\"1\":\"Trail\"},{\"1\":\"E-Mountain\"},{\"1\":\"Enduro\"},{\"1\":\"E-Trekking\"},{\"1\":\"E-Fitness\"},{\"1\":\"City\"},{\"1\":\"Touring\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n# Assign training and test data\ntrain_tbl <- training(split_obj)\ntest_tbl  <- testing(split_obj) \n\n# We have to remove spaces and dashes from the column names\ntrain_tbl <- train_tbl %>% set_names(str_replace_all(names(train_tbl), \" |-\", \"_\"))\ntest_tbl  <- test_tbl  %>% set_names(str_replace_all(names(test_tbl),  \" |-\", \"_\"))\n```\n:::\n\n## Recipe\n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-9_f08458f74b74bea4df7a325b9388f126'}\n\n```{.r .cell-code}\nbike_rec <- \n  recipe(price ~ ., data = train_tbl) %>%\n  step_rm(id, model, model_year, gender, category_1, category_3) %>%\n  step_dummy(all_nominal(), -all_outcomes(), one_hot = T) %>%\n  step_zv()\n```\n:::\n\n\n\n# Linear Regression\n\n## Model 1\n\n### Model\n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-10_22352da06e9076a02375d4ff8d3dcd3f'}\n\n```{.r .cell-code}\n# 3.0 LINEAR METHODS ----\n# 3.1 LINEAR REGRESSION - NO ENGINEERED FEATURES ----\n\n# 3.1.1 Model ----\nmodel_01_model <- \n  linear_reg(mode = \"regression\") %>%\n  set_engine(\"lm\")\n\nmodel_01_workflow <- \n  workflow() %>%\n  add_model(model_01_model) %>%\n  add_recipe(bike_rec)\n\nmodel_01_linear_lm_simple <- \n  model_01_workflow %>%\n  fit(data = train_tbl)\n\nmodel_01_linear_lm_simple %>%\n    predict(new_data = test_tbl) %>%\n    bind_cols(test_tbl %>% select(price)) %>%\n    yardstick::metrics(truth = price, estimate = .pred_res)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning in predict.lm(object = object$fit, newdata = new_data, type =\n#> \"response\"): prediction from rank-deficient fit; attr(*, \"non-estim\") has\n#> doubtful cases\n```\n:::\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"728.0513341\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.8627524\"},{\"1\":\"mae\",\"2\":\"standard\",\"3\":\"537.1057609\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n### Model Explanation\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-11_fe11687dacc71798a848c010ed12e21a'}\n\n```{.r .cell-code}\n# tidy() function is applicable for objects with class \"lm\"\nmodel_01_linear_lm_simple %>%\n  pull_workflow_fit() %>%\n  broom::tidy() %>%\n  arrange(p.value) %>%\n  mutate(term = as_factor(term) %>% fct_rev()) %>%\n  \n  ggplot(aes(x = estimate, y = term)) +\n  geom_point(color = \"#2dc6d6\", size = 3) +\n  ggrepel::geom_label_repel(aes(label = scales::dollar(estimate, accuracy = 1, suffix = \" €\", prefix = \"\")),\n                            size = 4, fill = \"#272A36\", color = \"white\") +\n  scale_x_continuous(labels = scales::dollar_format(suffix = \" €\", prefix = \"\")) +\n  labs(title = \"Linear Regression: Feature Importance\",\n       subtitle = \"Model 01: Simple lm Model\") \n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: `pull_workflow_fit()` was deprecated in workflows 0.2.3.\n#> ℹ Please use `extract_fit_parsnip()` instead.\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: Removed 5 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: Removed 5 rows containing missing values (`geom_label_repel()`).\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: ggrepel: 2 unlabeled data points (too many overlaps). Consider\n#> increasing max.overlaps\n```\n:::\n\n::: {.cell-output-display}\n![](Regression_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-12_4778b67b1d415e4d777af14a6c88fbdf'}\n\n```{.r .cell-code}\n# 3.1.3 Function to Calculate Metrics ----\n\n# Code we used earlier\nmodel_01_linear_lm_simple %>%\n    predict(new_data = test_tbl) %>%\n\n    bind_cols(test_tbl %>% select(price)) %>%\n    yardstick::metrics(truth = price, estimate = .pred_res)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning in predict.lm(object = object$fit, newdata = new_data, type =\n#> \"response\"): prediction from rank-deficient fit; attr(*, \"non-estim\") has\n#> doubtful cases\n```\n:::\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"728.0513341\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.8627524\"},{\"1\":\"mae\",\"2\":\"standard\",\"3\":\"537.1057609\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n# Generalized into a function\ncalc_metrics <- function(model, new_data = test_tbl) {\n\n    model %>%\n        predict(new_data = new_data) %>%\n\n        bind_cols(new_data %>% select(price)) %>%\n        yardstick::metrics(truth = price, estimate = .pred_res)\n\n}\n\nmodel_01_linear_lm_simple %>% calc_metrics(test_tbl)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning in predict.lm(object = object$fit, newdata = new_data, type =\n#> \"response\"): prediction from rank-deficient fit; attr(*, \"non-estim\") has\n#> doubtful cases\n```\n:::\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"728.0513341\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.8627524\"},{\"1\":\"mae\",\"2\":\"standard\",\"3\":\"537.1057609\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n## Model 2\n\n### Model\n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-13_00c62c122544b0210d0bc102ae84f6c7'}\n\n```{.r .cell-code}\n# 3.2 LINEAR REGRESSION - WITH ENGINEERED FEATURES ----\n\n# 3.2.1 Model ----\nmodel_02_model <- linear_reg(\"regression\") %>%\n    set_engine(\"lm\")\n\nmodel_02_workflow <- \n  workflow() %>%\n  add_model(model_02_model) %>%\n  add_recipe(bike_rec)\n\nmodel_02_linear_lm_complex <- \n  model_02_workflow %>%\n  fit(data = train_tbl)\n\nmodel_02_linear_lm_complex %>% calc_metrics(test_tbl)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning in predict.lm(object = object$fit, newdata = new_data, type =\n#> \"response\"): prediction from rank-deficient fit; attr(*, \"non-estim\") has\n#> doubtful cases\n```\n:::\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"728.0513341\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.8627524\"},{\"1\":\"mae\",\"2\":\"standard\",\"3\":\"537.1057609\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n### Model Explanation\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-14_ed2b707b9d907d868632e429504cb6d4'}\n\n```{.r .cell-code}\n# 3.2.2 Feature importance ----\nmodel_02_linear_lm_complex %>%\n  pull_workflow_fit() %>%\n  broom::tidy() %>%\n  arrange(p.value) %>%\n  mutate(term = as_factor(term) %>% fct_rev()) %>%\n  \n  ggplot(aes(x = estimate, y = term)) +\n  geom_point(color = \"#2dc6d6\", size = 3) +\n  ggrepel::geom_label_repel(aes(label = scales::dollar(estimate, accuracy = 1, suffix = \" €\", prefix = \"\")),\n                            size = 4, fill = \"#272A36\", color = \"white\") +\n  scale_x_continuous(labels = scales::dollar_format(suffix = \" €\", prefix = \"\")) +\n  labs(title = \"Linear Regression: Feature Importance\",\n       subtitle = \"Model 02: Complex lm Model\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: Removed 5 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: Removed 5 rows containing missing values (`geom_label_repel()`).\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: ggrepel: 2 unlabeled data points (too many overlaps). Consider\n#> increasing max.overlaps\n```\n:::\n\n::: {.cell-output-display}\n![](Regression_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n# GLM Regularized Regression\n\n## Model 3: GLMNET (Elastic Net)\n\n### Model\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-15_eee7e5bba1d670d7c633f517da26c77b'}\n\n```{.r .cell-code}\n# 3.3 PENALIZED REGRESSION ----\n\n# 3.3.1 Model ----\nmodel_03_model <- linear_reg(mode    = \"regression\", \n             penalty = 10, \n             mixture = 0.2) %>%\n  set_engine(\"glmnet\")\n\nmodel_03_workflow <- \n  workflow() %>%\n  add_model(model_03_model) %>%\n  add_recipe(bike_rec)\n\nmodel_03_linear_glmnet <- \n  model_03_workflow %>%\n  fit(data = train_tbl)\n\nmodel_03_linear_glmnet %>% \n  predict(test_tbl) %>%\n  bind_cols(test_tbl %>% select(price)) %>%\n  yardstick::metrics(truth = price, estimate = .pred)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"720.1502477\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.8695072\"},{\"1\":\"mae\",\"2\":\"standard\",\"3\":\"535.0158763\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n### Model Explanation\n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-16_9648075e560f18f1a42de37f6b69b0a2'}\n\n```{.r .cell-code}\n# 3.3.2 Feature Importance ----\nmodel_03_linear_glmnet %>%\n    pull_workflow_fit() %>%\n    broom::tidy() %>%\n    \n    # No p value here\n    arrange(desc(abs(estimate))) %>%\n    mutate(term = as_factor(term) %>% fct_rev()) %>%\n\n    ggplot(aes(x = estimate, y = term)) +\n    geom_point() +\n    ggrepel::geom_label_repel(aes(label = scales::dollar(estimate, accuracy = 1)),\n                              size = 3) +\n    scale_x_continuous(labels = scales::dollar_format()) +\n    labs(title = \"Linear Regression: Feature Importance\",\n         subtitle = \"Model 03: GLMNET Model\")\n```\n\n::: {.cell-output-display}\n![](Regression_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n# Tree-Based Methods\n\n## Model 4: Decision Trees\n\n### Model\n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-17_f4f20bc6e6a67b55da7ac86981d58dbd'}\n\n```{.r .cell-code}\n# 4.0 TREE-BASED METHODS ----\n# 4.1 DECISION TREES ----\n# 4.1.1 Model ----\n\nmodel_04_model <- \n  decision_tree(mode = \"regression\",\n              \n              # Set the values accordingly to get started\n              cost_complexity = 0.001,\n              tree_depth      = 5,\n              min_n           = 7) %>%\n  set_engine(\"rpart\")\n\nmodel_04_workflow <- \n  workflow() %>%\n  add_model(model_04_model) %>%\n  add_recipe(bike_rec)\n\nmodel_04_tree_decision_tree <- \n  model_04_workflow %>%\n  fit(data = train_tbl)\n\nmodel_04_tree_decision_tree %>% \n  predict(test_tbl) %>%\n  bind_cols(test_tbl %>% select(price)) %>%\n  yardstick::metrics(truth = price, estimate = .pred)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"1234.7612319\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.5731273\"},{\"1\":\"mae\",\"2\":\"standard\",\"3\":\"929.5638298\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n### Model Explanation\n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-18_d488c033de84d9130cd620a0cf50bdd4'}\n\n```{.r .cell-code}\npull_workflow_fit(model_04_tree_decision_tree)$fit %>%\n    rpart.plot(roundint = FALSE)\n```\n\n::: {.cell-output-display}\n![](Regression_files/figure-html/unnamed-chunk-18-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Optimze plot\npull_workflow_fit(model_04_tree_decision_tree)$fit %>%\n    rpart.plot(\n        roundint = FALSE,\n        type = 1,\n        extra = 101, # see help page\n        fallen.leaves = FALSE, # changes the angles from 90 to 45-degree\n        cex = 0.8, # font size\n        main = \"Model 04: Decision Tree\", # Adds title\n        box.palette = \"Blues\"\n        )\n```\n\n::: {.cell-output-display}\n![](Regression_files/figure-html/unnamed-chunk-18-2.png){width=672}\n:::\n\n```{.r .cell-code}\nshow.prp.palettes()\n```\n\n::: {.cell-output-display}\n![](Regression_files/figure-html/unnamed-chunk-18-3.png){width=672}\n:::\n:::\n\n\n## Ranger - Model 5\n\n### Model\n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-19_0b967ed9d06fe9a084fc0ab5b3e959af'}\n\n```{.r .cell-code}\n# 4.2 RANDOM FOREST ----\n\n# 4.2.1 Model: ranger ----\nlibrary(ranger)\n\nmodel_05_model <- rand_forest(\n      mode = \"regression\", mtry = 8, trees = 5000, min_n = 10\n    ) %>%\n    set_engine(\"ranger\", replace = TRUE, splitrule = \"extratrees\", importance = \"impurity\")\n\nmodel_05_workflow <- \n  workflow() %>%\n  add_model(model_05_model) %>%\n  add_recipe(bike_rec)\n\nmodel_05_rand_forest_ranger <- \n  model_05_workflow %>%\n  fit(data = train_tbl)\n\nmodel_05_rand_forest_ranger %>% \n  predict(test_tbl) %>%\n  bind_cols(test_tbl %>% select(price)) %>%\n  yardstick::metrics(truth = price, estimate = .pred)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"891.7227652\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.8218191\"},{\"1\":\"mae\",\"2\":\"standard\",\"3\":\"698.9342293\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n### Model Explanation\n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-20_960cc8ee0dc21b0f0f6e95d212b29695'}\n\n```{.r .cell-code}\n# 4.2.2 ranger: Feature Importance ----\n\npull_workflow_fit(model_05_rand_forest_ranger)$fit %>%\n    ranger::importance() %>%\n    enframe() %>%\n    arrange(desc(value)) %>%\n    mutate(name = as_factor(name) %>% fct_rev()) %>%\n\n    ggplot(aes(value, name)) +\n    geom_point() +\n    labs(title = \"ranger: Variable Importance\",\n         subtitle = \"Model 05: Ranger Random Forest Model\")\n```\n\n::: {.cell-output-display}\n![](Regression_files/figure-html/unnamed-chunk-20-1.png){width=672}\n:::\n:::\n\n\n## randomForest - Model 06\n\n### Model\n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-21_e78f93789c21ab2e650c0827b874629b'}\n\n```{.r .cell-code}\n# 4.2.3 Model randomForest ----\nmodel_06_model <- \n    rand_forest(\"regression\") %>%\n    set_engine(\"randomForest\")\n\nmodel_06_workflow <- \n  workflow() %>%\n  add_model(model_06_model) %>%\n  add_recipe(bike_rec)\n\nmodel_06_rand_forest_randomForest <- \n  model_06_workflow %>%\n  fit(data = train_tbl)\n\nmodel_06_rand_forest_randomForest %>% \n  predict(test_tbl) %>%\n  bind_cols(test_tbl %>% select(price)) %>%\n  yardstick::metrics(truth = price, estimate = .pred)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"815.6440703\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.8556875\"},{\"1\":\"mae\",\"2\":\"standard\",\"3\":\"621.8022220\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n### Model Explanation\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-22_5aeaff8affc10fe3955e16a434a2a7e5'}\n\n```{.r .cell-code}\npull_workflow_fit(model_06_rand_forest_randomForest)$fit %>%\n    randomForest::importance() %>%\n    # Convert matrix to tibble\n    as_tibble(rownames = \"name\") %>%\n    arrange(desc(IncNodePurity)) %>%\n    mutate(name = as_factor(name) %>% fct_rev()) %>%\n\n    ggplot(aes(IncNodePurity, name)) +\n    geom_point() +\n    labs(\n        title = \"randomForest: Variable Importance\",\n        subtitle = \"Model 06: randomForest Model\"\n    )\n```\n\n::: {.cell-output-display}\n![](Regression_files/figure-html/unnamed-chunk-22-1.png){width=672}\n:::\n:::\n\n\n## Model - XGBoost\n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-23_3a946ed2fce87d2605dd3d0edd2b12de'}\n\n```{.r .cell-code}\n# 4.3 XGBOOST ----\n# 4.3.1 Model ----\n\nmodel_07_model <- \n    boost_tree(\n      mode = \"regression\",\n      mtry = 30,\n      learn_rate = 0.25,\n      tree_depth = 7\n    ) %>%\n    set_engine(\"xgboost\")\n\nmodel_07_workflow <- \n  workflow() %>%\n  add_model(model_07_model) %>%\n  add_recipe(bike_rec)\n\nmodel_07_boost_tree_xgboost <- \n  model_07_workflow %>%\n  fit(data = train_tbl)\n\nmodel_07_boost_tree_xgboost %>% \n  predict(test_tbl) %>%\n  bind_cols(test_tbl %>% select(price)) %>%\n  yardstick::metrics(truth = price, estimate = .pred)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\".metric\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimator\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\".estimate\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"rmse\",\"2\":\"standard\",\"3\":\"793.5125188\"},{\"1\":\"rsq\",\"2\":\"standard\",\"3\":\"0.8784088\"},{\"1\":\"mae\",\"2\":\"standard\",\"3\":\"617.7568048\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n### Model Explanation\n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-24_466febee5499a209349b3a84e955bffb'}\n\n```{.r .cell-code}\n# 4.3.2 Feature Importance ----\n\npull_workflow_fit(model_07_boost_tree_xgboost)$fit %>%\n    xgboost::xgb.importance(model = .) %>%\n    as_tibble() %>%\n    arrange(desc(Gain)) %>%\n    mutate(Feature = as_factor(Feature) %>% fct_rev()) %>%\n\n    ggplot(aes(Gain, Feature)) +\n    geom_point() +\n    labs(\n        title = \"XGBoost: Variable Importance\",\n        subtitle = \"Model 07: XGBoost Model\"\n    )\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: `pull_workflow_fit()` was deprecated in workflows 0.2.3.\n#> ℹ Please use `extract_fit_parsnip()` instead.\n```\n:::\n\n::: {.cell-output-display}\n![](Regression_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n:::\n\n\n# Prediction & Evaluation\n\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-25_78a36109caee135059097518cd599d25'}\n\n```{.r .cell-code}\n# 5.0 TESTING THE ALGORITHMS OUT ----\ng1 <- bike_features_tbl %>% \n    mutate(category_2 = as.factor(category_2) %>% \n           fct_reorder(price)) %>% \n    \n    ggplot(aes(category_2, price)) +\n    geom_violin() +\n    geom_jitter(width = 0.1, alpha = 0.5, color = \"#2dc6d6\") +\n    coord_flip() +\n    facet_wrap(~ frame_material) +\n    scale_y_continuous(labels = scales::dollar_format()) +\n    labs(\n        title = \"Unit Price for Each Model\",\n        y = \"\", x = \"Category 2\"\n    )\ng1\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: Groups with fewer than two data points have been dropped.\n#> Groups with fewer than two data points have been dropped.\n#> Groups with fewer than two data points have been dropped.\n```\n:::\n\n::: {.cell-output-display}\n![](Regression_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-26_b366709825f09f9914450126874bcd42'}\n\n```{.r .cell-code}\n# 5.1 NEW MODEL ----\n\nnew_cross_country <- tibble(\n        id = 0,\n        model = \"Exceed AL SL new\",\n        model_year = 2022,\n        frame_material = \"aluminium\",\n        weight = 10,\n        category_1 = \"Mountain\",\n        category_2 = \"Cross-Country\",\n        category_3 = \"Exceed\",\n        gender = \"unisex\",\n        shimano_dura_ace = 0,\n        shimano_ultegra = 0,\n        shimano_105 = 0,\n        shimano_tiagra = 0,\n        Shimano_sora = 0,\n        shimano_deore = 0,\n        shimano_slx = 0,\n        shimano_grx = 0,\n        Shimano_xt = 1,\n        Shimano_xtr = 0,\n        Shimano_saint = 0,\n        SRAM_red = 0,\n        SRAM_force = 0,\n        SRAM_rival = 0,\n        SRAM_apex = 0,\n        SRAM_xx1 = 0,\n        SRAM_x01 = 0,\n        SRAM_gx = 0,\n        SRAM_nx = 0,\n        SRAM_sx = 0,\n        Campagnolo_potenza = 0,\n        Campagnolo_super_record = 0,\n        shimano_nexus = 0,\n        shimano_alfine = 0\n) \n\nnew_cross_country\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"id\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"model\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"model_year\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"frame_material\"],\"name\":[4],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"weight\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"category_1\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"category_2\"],\"name\":[7],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"category_3\"],\"name\":[8],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"gender\"],\"name\":[9],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"shimano_dura_ace\"],\"name\":[10],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_ultegra\"],\"name\":[11],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_105\"],\"name\":[12],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_tiagra\"],\"name\":[13],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Shimano_sora\"],\"name\":[14],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_deore\"],\"name\":[15],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_slx\"],\"name\":[16],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_grx\"],\"name\":[17],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Shimano_xt\"],\"name\":[18],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Shimano_xtr\"],\"name\":[19],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Shimano_saint\"],\"name\":[20],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_red\"],\"name\":[21],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_force\"],\"name\":[22],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_rival\"],\"name\":[23],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_apex\"],\"name\":[24],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_xx1\"],\"name\":[25],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_x01\"],\"name\":[26],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_gx\"],\"name\":[27],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_nx\"],\"name\":[28],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_sx\"],\"name\":[29],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Campagnolo_potenza\"],\"name\":[30],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Campagnolo_super_record\"],\"name\":[31],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_nexus\"],\"name\":[32],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_alfine\"],\"name\":[33],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"0\",\"2\":\"Exceed AL SL new\",\"3\":\"2022\",\"4\":\"aluminium\",\"5\":\"10\",\"6\":\"Mountain\",\"7\":\"Cross-Country\",\"8\":\"Exceed\",\"9\":\"unisex\",\"10\":\"0\",\"11\":\"0\",\"12\":\"0\",\"13\":\"0\",\"14\":\"0\",\"15\":\"0\",\"16\":\"0\",\"17\":\"0\",\"18\":\"1\",\"19\":\"0\",\"20\":\"0\",\"21\":\"0\",\"22\":\"0\",\"23\":\"0\",\"24\":\"0\",\"25\":\"0\",\"26\":\"0\",\"27\":\"0\",\"28\":\"0\",\"29\":\"0\",\"30\":\"0\",\"31\":\"0\",\"32\":\"0\",\"33\":\"0\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n::: {.cell hash='Regression_cache/html/unnamed-chunk-27_f8fa3335422360169d035dcce614a942'}\n\n```{.r .cell-code}\nmodels_tbl <- tibble(\n    model_id = str_c(\"Model 0\", 1:7),\n    model = list(\n        model_01_linear_lm_simple,\n        model_02_linear_lm_complex,\n        model_03_linear_glmnet,\n        model_04_tree_decision_tree,\n        model_05_rand_forest_ranger,\n        model_06_rand_forest_randomForest,\n        model_07_boost_tree_xgboost\n    )\n)\n\nmodels_tbl\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"model_id\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"model\"],\"name\":[2],\"type\":[\"list\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Model 01\",\"2\":\"<S3: workflow>\"},{\"1\":\"Model 02\",\"2\":\"<S3: workflow>\"},{\"1\":\"Model 03\",\"2\":\"<S3: workflow>\"},{\"1\":\"Model 04\",\"2\":\"<S3: workflow>\"},{\"1\":\"Model 05\",\"2\":\"<S3: workflow>\"},{\"1\":\"Model 06\",\"2\":\"<S3: workflow>\"},{\"1\":\"Model 07\",\"2\":\"<S3: workflow>\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n# Add Predictions\n\npredictions_new_cross_country_tbl <- models_tbl %>%\n    mutate(predictions = map(model, predict, new_data = new_cross_country)) %>%\n    unnest(predictions) %>%\n    mutate(category_2 = \"Cross-Country\") %>%\n    left_join(new_cross_country, by = \"category_2\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: There were 2 warnings in `mutate()`.\n#> The first warning was:\n#> ℹ In argument: `predictions = map(model, predict, new_data =\n#>   new_cross_country)`.\n#> Caused by warning in `predict.lm()`:\n#> ! prediction from rank-deficient fit; attr(*, \"non-estim\") has doubtful cases\n#> ℹ Run `dplyr::last_dplyr_warnings()` to see the 1 remaining warning.\n```\n:::\n\n```{.r .cell-code}\npredictions_new_cross_country_tbl\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"model_id\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"model.x\"],\"name\":[2],\"type\":[\"list\"],\"align\":[\"right\"]},{\"label\":[\".pred_res\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\".pred\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"category_2\"],\"name\":[5],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"id\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"model.y\"],\"name\":[7],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"model_year\"],\"name\":[8],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"frame_material\"],\"name\":[9],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"weight\"],\"name\":[10],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"category_1\"],\"name\":[11],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"category_3\"],\"name\":[12],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"gender\"],\"name\":[13],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"shimano_dura_ace\"],\"name\":[14],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_ultegra\"],\"name\":[15],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_105\"],\"name\":[16],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_tiagra\"],\"name\":[17],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Shimano_sora\"],\"name\":[18],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_deore\"],\"name\":[19],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_slx\"],\"name\":[20],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_grx\"],\"name\":[21],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Shimano_xt\"],\"name\":[22],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Shimano_xtr\"],\"name\":[23],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Shimano_saint\"],\"name\":[24],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_red\"],\"name\":[25],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_force\"],\"name\":[26],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_rival\"],\"name\":[27],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_apex\"],\"name\":[28],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_xx1\"],\"name\":[29],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_x01\"],\"name\":[30],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_gx\"],\"name\":[31],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_nx\"],\"name\":[32],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"SRAM_sx\"],\"name\":[33],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Campagnolo_potenza\"],\"name\":[34],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Campagnolo_super_record\"],\"name\":[35],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_nexus\"],\"name\":[36],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"shimano_alfine\"],\"name\":[37],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Model 01\",\"2\":\"<S3: workflow>\",\"3\":\"2688.84\",\"4\":\"NA\",\"5\":\"Cross-Country\",\"6\":\"0\",\"7\":\"Exceed AL SL new\",\"8\":\"2022\",\"9\":\"aluminium\",\"10\":\"10\",\"11\":\"Mountain\",\"12\":\"Exceed\",\"13\":\"unisex\",\"14\":\"0\",\"15\":\"0\",\"16\":\"0\",\"17\":\"0\",\"18\":\"0\",\"19\":\"0\",\"20\":\"0\",\"21\":\"0\",\"22\":\"1\",\"23\":\"0\",\"24\":\"0\",\"25\":\"0\",\"26\":\"0\",\"27\":\"0\",\"28\":\"0\",\"29\":\"0\",\"30\":\"0\",\"31\":\"0\",\"32\":\"0\",\"33\":\"0\",\"34\":\"0\",\"35\":\"0\",\"36\":\"0\",\"37\":\"0\"},{\"1\":\"Model 02\",\"2\":\"<S3: workflow>\",\"3\":\"2688.84\",\"4\":\"NA\",\"5\":\"Cross-Country\",\"6\":\"0\",\"7\":\"Exceed AL SL new\",\"8\":\"2022\",\"9\":\"aluminium\",\"10\":\"10\",\"11\":\"Mountain\",\"12\":\"Exceed\",\"13\":\"unisex\",\"14\":\"0\",\"15\":\"0\",\"16\":\"0\",\"17\":\"0\",\"18\":\"0\",\"19\":\"0\",\"20\":\"0\",\"21\":\"0\",\"22\":\"1\",\"23\":\"0\",\"24\":\"0\",\"25\":\"0\",\"26\":\"0\",\"27\":\"0\",\"28\":\"0\",\"29\":\"0\",\"30\":\"0\",\"31\":\"0\",\"32\":\"0\",\"33\":\"0\",\"34\":\"0\",\"35\":\"0\",\"36\":\"0\",\"37\":\"0\"},{\"1\":\"Model 03\",\"2\":\"<S3: workflow>\",\"3\":\"NA\",\"4\":\"2674.657\",\"5\":\"Cross-Country\",\"6\":\"0\",\"7\":\"Exceed AL SL new\",\"8\":\"2022\",\"9\":\"aluminium\",\"10\":\"10\",\"11\":\"Mountain\",\"12\":\"Exceed\",\"13\":\"unisex\",\"14\":\"0\",\"15\":\"0\",\"16\":\"0\",\"17\":\"0\",\"18\":\"0\",\"19\":\"0\",\"20\":\"0\",\"21\":\"0\",\"22\":\"1\",\"23\":\"0\",\"24\":\"0\",\"25\":\"0\",\"26\":\"0\",\"27\":\"0\",\"28\":\"0\",\"29\":\"0\",\"30\":\"0\",\"31\":\"0\",\"32\":\"0\",\"33\":\"0\",\"34\":\"0\",\"35\":\"0\",\"36\":\"0\",\"37\":\"0\"},{\"1\":\"Model 04\",\"2\":\"<S3: workflow>\",\"3\":\"NA\",\"4\":\"1182.077\",\"5\":\"Cross-Country\",\"6\":\"0\",\"7\":\"Exceed AL SL new\",\"8\":\"2022\",\"9\":\"aluminium\",\"10\":\"10\",\"11\":\"Mountain\",\"12\":\"Exceed\",\"13\":\"unisex\",\"14\":\"0\",\"15\":\"0\",\"16\":\"0\",\"17\":\"0\",\"18\":\"0\",\"19\":\"0\",\"20\":\"0\",\"21\":\"0\",\"22\":\"1\",\"23\":\"0\",\"24\":\"0\",\"25\":\"0\",\"26\":\"0\",\"27\":\"0\",\"28\":\"0\",\"29\":\"0\",\"30\":\"0\",\"31\":\"0\",\"32\":\"0\",\"33\":\"0\",\"34\":\"0\",\"35\":\"0\",\"36\":\"0\",\"37\":\"0\"},{\"1\":\"Model 05\",\"2\":\"<S3: workflow>\",\"3\":\"NA\",\"4\":\"2017.277\",\"5\":\"Cross-Country\",\"6\":\"0\",\"7\":\"Exceed AL SL new\",\"8\":\"2022\",\"9\":\"aluminium\",\"10\":\"10\",\"11\":\"Mountain\",\"12\":\"Exceed\",\"13\":\"unisex\",\"14\":\"0\",\"15\":\"0\",\"16\":\"0\",\"17\":\"0\",\"18\":\"0\",\"19\":\"0\",\"20\":\"0\",\"21\":\"0\",\"22\":\"1\",\"23\":\"0\",\"24\":\"0\",\"25\":\"0\",\"26\":\"0\",\"27\":\"0\",\"28\":\"0\",\"29\":\"0\",\"30\":\"0\",\"31\":\"0\",\"32\":\"0\",\"33\":\"0\",\"34\":\"0\",\"35\":\"0\",\"36\":\"0\",\"37\":\"0\"},{\"1\":\"Model 06\",\"2\":\"<S3: workflow>\",\"3\":\"NA\",\"4\":\"1526.958\",\"5\":\"Cross-Country\",\"6\":\"0\",\"7\":\"Exceed AL SL new\",\"8\":\"2022\",\"9\":\"aluminium\",\"10\":\"10\",\"11\":\"Mountain\",\"12\":\"Exceed\",\"13\":\"unisex\",\"14\":\"0\",\"15\":\"0\",\"16\":\"0\",\"17\":\"0\",\"18\":\"0\",\"19\":\"0\",\"20\":\"0\",\"21\":\"0\",\"22\":\"1\",\"23\":\"0\",\"24\":\"0\",\"25\":\"0\",\"26\":\"0\",\"27\":\"0\",\"28\":\"0\",\"29\":\"0\",\"30\":\"0\",\"31\":\"0\",\"32\":\"0\",\"33\":\"0\",\"34\":\"0\",\"35\":\"0\",\"36\":\"0\",\"37\":\"0\"},{\"1\":\"Model 07\",\"2\":\"<S3: workflow>\",\"3\":\"NA\",\"4\":\"1523.424\",\"5\":\"Cross-Country\",\"6\":\"0\",\"7\":\"Exceed AL SL new\",\"8\":\"2022\",\"9\":\"aluminium\",\"10\":\"10\",\"11\":\"Mountain\",\"12\":\"Exceed\",\"13\":\"unisex\",\"14\":\"0\",\"15\":\"0\",\"16\":\"0\",\"17\":\"0\",\"18\":\"0\",\"19\":\"0\",\"20\":\"0\",\"21\":\"0\",\"22\":\"1\",\"23\":\"0\",\"24\":\"0\",\"25\":\"0\",\"26\":\"0\",\"27\":\"0\",\"28\":\"0\",\"29\":\"0\",\"30\":\"0\",\"31\":\"0\",\"32\":\"0\",\"33\":\"0\",\"34\":\"0\",\"35\":\"0\",\"36\":\"0\",\"37\":\"0\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n\n\nCongratulations! You are done with the 2nd challenge!",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}